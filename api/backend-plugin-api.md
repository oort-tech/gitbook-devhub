# Backend Development: Plugin APIs

The Plugin Backend must implement the following REST APIs to receive instructions from Datahub.

## 1. Create Task
Triggered when a new task is initialized.

* **URL:** `/api/plugin/create_task`
* **Method:** `POST`

**Request Body:**
```json
{
  "subtask_id": "task_abc_001_ingest",
  "config": {
    "keyword": "cat",
    "imageSize": "large"
  }
}

```

* `subtask_id`: Unique task ID.
* `config`: The configuration object generated by the Frontend JS.

**Response:**

```json
{ "code": 0, "msg": "success", "data": null }

```

## 2. Manage Task

Used to pause, resume, or cancel a task.

* **URL:** `/api/plugin/manage_task`
* **Method:** `POST`

**Request Body:**

```json
{
  "subtask_id": "task_abc_001_ingest",
  "status": 4
}

```

* `status`: `1` (Resume), `2` (Pause), `4` (Cancel).

## 3. Health Check

Used to verify plugin status.

* **URL:** `/api/plugin/health`
* **Method:** `GET`

**Response:**

```json
{
  "code": 0,
  "msg": "success",
  "status": "healthy",
  "plugin": {
    "uptime": 3600,
    "version": "1.0.0",
    "plugin_id": "plugin-6cb79301"
  }
}

```

## 4. Payment Verification (Optional)

Validates order payment hash.

* **URL:** `/api/plugin/payment`
* **Request Body:** `tx_hash` (Payment hash), `subtask_id`.

```

```